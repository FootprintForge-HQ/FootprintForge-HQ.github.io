<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Footprint Forge - Print Exporter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- QR Code Library for local generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;500;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Montserrat', sans-serif; background-color: #050505; color: #fff; }
        .canvas-container {
            position: relative;
            box-shadow: 0 25px 50px -12px rgba(0,0,0,1);
            border: 1px solid #222;
            width: 100%;
            max-width: 543px; 
            aspect-ratio: 1087 / 709;
            margin: 0 auto;
            border-radius: 8px;
            overflow: hidden;
        }
        canvas { width: 100%; height: 100%; display: block; }
        .copper-text { color: #c27e42; }
        .copper-bg { background-color: #c27e42; }
        input {
            background: #111;
            border: 1px solid #333;
            color: #fff;
            padding: 0.75rem;
            border-radius: 4px;
            width: 100%;
            font-family: 'Montserrat', sans-serif;
            font-size: 0.875rem;
            transition: border-color 0.2s;
        }
        input:focus { outline: none; border-color: #c27e42; }
        label { display: block; font-size: 0.75rem; color: #888; margin-bottom: 0.25rem; text-transform: uppercase; letter-spacing: 0.1em; }
    </style>
</head>
<body class="min-h-screen p-8 pb-20">

    <div class="max-w-6xl mx-auto">
        <div class="mb-12 text-center">
            <h1 class="text-3xl font-light tracking-[0.2em] copper-text mb-4 uppercase">Final Print Generator</h1>
            <p class="text-zinc-400 text-sm max-w-2xl mx-auto leading-relaxed mb-8">
                Type your details below. The card will update automatically. Once you are happy, click download to get the 300 DPI, uncompressed PNG files directly to your computer. These files are ready to be sent straight to your printer.
            </p>
            
            <!-- Real-time Input Controls -->
            <div class="max-w-3xl mx-auto bg-[#0f0f0f] border border-[#222] p-6 rounded-lg text-left grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label>Your Name</label>
                    <input type="text" id="inputName" value="JOHN DOE" oninput="drawBack()" placeholder="Enter your name">
                </div>
                <div>
                    <label>Your Role</label>
                    <input type="text" id="inputRole" value="FOUNDER" oninput="drawBack()" placeholder="Enter your role">
                </div>
                <div>
                    <label>Email Address</label>
                    <input type="text" id="inputEmail" value="footprintforge@gmail.com" oninput="drawBack()">
                </div>
                <div>
                    <label>Phone Number</label>
                    <input type="text" id="inputPhone" value="+91 98843 66634" oninput="drawBack()">
                </div>
            </div>
        </div>

        <div class="grid lg:grid-cols-2 gap-12">
            
            <!-- Front Card -->
            <div class="flex flex-col items-center">
                <div class="flex justify-between w-full max-w-[543px] items-end mb-4">
                    <h2 class="text-lg tracking-[0.2em] text-zinc-300 font-light">FRONT</h2>
                    <span class="text-xs text-zinc-600">1087 x 709 px (300 DPI)</span>
                </div>
                <div class="canvas-container bg-[#121212]">
                    <canvas id="canvasFront" width="1087" height="709"></canvas>
                </div>
                <button onclick="downloadCanvas('canvasFront', 'FootprintForge_Front_Print.png')" 
                        class="mt-6 copper-bg text-black font-semibold tracking-widest uppercase px-6 py-4 rounded hover:bg-white transition-colors text-sm w-full max-w-[543px] shadow-[0_0_15px_rgba(194,126,66,0.3)] hover:shadow-[0_0_20px_rgba(255,255,255,0.4)]">
                    Download Front PNG
                </button>
            </div>

            <!-- Back Card -->
            <div class="flex flex-col items-center">
                <div class="flex justify-between w-full max-w-[543px] items-end mb-4">
                    <h2 class="text-lg tracking-[0.2em] text-zinc-300 font-light">BACK</h2>
                    <span class="text-xs text-zinc-600">1087 x 709 px (300 DPI)</span>
                </div>
                <div class="canvas-container bg-[#121212]">
                    <canvas id="canvasBack" width="1087" height="709"></canvas>
                </div>
                <button onclick="downloadCanvas('canvasBack', 'FootprintForge_Back_Print.png')" 
                        class="mt-6 copper-bg text-black font-semibold tracking-widest uppercase px-6 py-4 rounded hover:bg-white transition-colors text-sm w-full max-w-[543px] shadow-[0_0_15px_rgba(194,126,66,0.3)] hover:shadow-[0_0_20px_rgba(255,255,255,0.4)]">
                    Download Back PNG
                </button>
            </div>

        </div>
    </div>

    <script>
        // 300 DPI Specs for CR80 Premium Card with Bleed
        const W = 1087; 
        const H = 709;
        const COPPER = '#c27e42';
        const BG_COLOR = '#111111';
        let globalLogo = null;
        let globalQr = null;
        
        // Wait for fonts to load before drawing
        document.fonts.ready.then(() => {
            initDraw();
        });

        async function initDraw() {
            // Generate QR Code once
            const qr = new QRious({
                value: 'https://footprintforge-hq.github.io',
                background: '#111111',
                foreground: '#c27e42',
                size: 260,
                level: 'H'
            });
            globalQr = new Image();
            globalQr.src = qr.toDataURL('image/png');

            // Load Logo
            globalLogo = new Image();
            globalLogo.src = '1000441850.png'; 
            
            globalLogo.onload = () => {
                drawFront();
                globalQr.onload = drawBack;
            };

            globalLogo.onerror = () => {
                console.warn("Could not load logo image. Using fallback.");
                drawFront();
                globalQr.onload = drawBack;
            }
        }

        function drawFront() {
            const canvas = document.getElementById('canvasFront');
            const ctx = canvas.getContext('2d');

            // 1. Draw Background
            ctx.fillStyle = BG_COLOR;
            ctx.fillRect(0, 0, W, H);

            // 2. Draw Logo
            if (globalLogo && globalLogo.complete && globalLogo.naturalWidth !== 0) {
                const logoSize = 380;
                const logoX = (W - logoSize) / 2;
                const logoY = (H - logoSize) / 2 - 40; 
                ctx.drawImage(globalLogo, logoX, logoY, logoSize, logoSize);
            } else {
                ctx.strokeStyle = COPPER;
                ctx.lineWidth = 4;
                ctx.beginPath();
                ctx.arc(W/2, H/2 - 40, 150, 0, Math.PI * 2);
                ctx.stroke();
            }

            // 3. Draw Brand Text
            ctx.fillStyle = COPPER;
            ctx.textAlign = "center";
            ctx.textBaseline = "top";
            ctx.font = "300 38px Montserrat";
            ctx.letterSpacing = "22px"; 
            ctx.fillText("FOOTPRINT FORGE", W/2 + 11, H/2 + 180);
        }

        function drawBack() {
            const canvas = document.getElementById('canvasBack');
            const ctx = canvas.getContext('2d');

            // Fetch live inputs
            const name = document.getElementById('inputName').value.toUpperCase();
            const role = document.getElementById('inputRole').value.toUpperCase();
            const email = document.getElementById('inputEmail').value.toLowerCase();
            const phone = document.getElementById('inputPhone').value;

            // 1. Draw Background
            ctx.fillStyle = BG_COLOR;
            ctx.fillRect(0, 0, W, H);

            const startX = 110;

            // 2. Draw Tagline (Top)
            ctx.fillStyle = COPPER;
            ctx.textAlign = "left";
            ctx.textBaseline = "top";
            ctx.font = "300 38px Montserrat";
            ctx.letterSpacing = "6px";
            ctx.fillText("YOUR REPUTATION", startX, 130);
            ctx.fillText("DESERVES", startX, 185);
            ctx.fillText("INFRASTRUCTURE.", startX, 240);

            // 3. Draw Personal Details (Middle)
            // Name
            ctx.fillStyle = "#ffffff";
            ctx.font = "500 34px Montserrat";
            ctx.letterSpacing = "4px";
            ctx.fillText(name, startX, 360);
            
            // Role
            ctx.fillStyle = COPPER;
            ctx.font = "300 20px Montserrat";
            ctx.letterSpacing = "4px";
            ctx.fillText(role, startX, 405);

            // Contact Info
            ctx.fillStyle = "#a8907b";
            ctx.font = "400 18px Montserrat";
            ctx.letterSpacing = "2px";
            ctx.fillText(email, startX, 470);
            ctx.fillText(phone, startX, 500);

            // 4. Draw Call to Action (Bottom)
            ctx.fillStyle = "#666666";
            ctx.font = "300 14px Montserrat";
            ctx.letterSpacing = "3px";
            ctx.fillText("SCAN TO BUILD YOUR", startX, 600);
            ctx.fillText("PREMIUM DIGITAL IDENTITY.", startX, 625);

            // 5. Draw QR Code (Right Side)
            if (globalQr && globalQr.complete) {
                const qrSize = 270;
                const qrX = W - 110 - qrSize; 
                const qrY = (H - qrSize) / 2; 
                
                // Draw thin border around QR
                ctx.strokeStyle = "rgba(194, 126, 66, 0.25)";
                ctx.lineWidth = 1;
                ctx.strokeRect(qrX - 15, qrY - 15, qrSize + 30, qrSize + 30);
                
                ctx.drawImage(globalQr, qrX, qrY, qrSize, qrSize);
            }
        }

        // Export function to trigger browser download
        function downloadCanvas(canvasId, filename) {
            const canvas = document.getElementById(canvasId);
            const dataUrl = canvas.toDataURL('image/png', 1.0);
            const link = document.createElement('a');
            link.download = filename;
            link.href = dataUrl;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>
</html>
